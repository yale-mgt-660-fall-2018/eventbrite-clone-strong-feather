<md-card style="max-width:400px" class="event-card">
  <md-card-title>
    <md-card-title-text>
      <span class="md-headline">[[ ct.dtx.title ]]</span>
      <div layout="column">
        <div layout="row">
          <md-icon style="max-width:30px" md-svg-src="/public/assets/location.svg" flex></md-icon>
          <span flex>[[ ct.dtx.location ]]</span>
        </div>
        <div layout="row">
          <md-icon style="max-width:30px" md-svg-src="/public/assets/time.svg" flex></md-icon>
          <span flex>[[ ct.dtx.date ]]</span>
        </div>
      </div>
    </md-card-title-text>
    <md-card-title-media>
      <img ng-if="ct.dtx.imageURL" ng-src="[[ ct.dtx.imageURL ]]" class="event-image">
      <img ng-if="!ct.dtx.imageURL" src="/public/assets/default-party.jpg" class="event-image">
    </md-card-title-media>
  </md-card-title>
  <md-card-content layout="column">
    <div>
      <md-chips md-margin class="md-mini">
        <md-chip>RSVP: <span ng-if="!ct.RSVP">?</span>[[ct.RSVP]]</md-chip>
      </md-chips>
    </div>
    <div><i>Attending:</i> <br />
      <span ng-repeat="guest in ct.dtx.attending">[[ guest ]]<span ng-if="!$last"> â€¢ </span></span>
    </div>
  <md-card-actions layout="row" layout-align="space-between center" md-padding="10px" style="margin-right: 4px;">
    <div layout="column" layout-align="space-around center">
      <div>
        <md-button aria-label="Donate" class="md-fab md-mini" ng-click="ct.launchDonateModal($event, ct.msg)">
          <md-tooltip md-direction="down">Please Give Generously</md-tooltip>
          <md-icon md-svg-src="/public/assets/currency-usd.svg"></md-icon>
        </md-button>
      </div>
      <div class="small-text">
        <span>[[ ct.msg ]]</span>
      </div>
    </div>

    <md-input-container md-padding class="md-block" flex>
      <label>Email</label>
      <input required type="email" ng-model="ct.email" class="md-block" ng-keyup="ct.checkEmail(ct.email)" ng-disabled="ct.bork_email"/>
      <div class="small-text"><i>A valid yale.edu email address is required.</i></div>
    </md-input-container>

    <md-menu>
      <md-button ng-disabled="! ct.EmailValid" class="md-primary md-raised" aria-label="RSVP" md-menu-origin ng-click="ct.openRSVPMenu($mdMenu, $event)">RSVP</md-button>
      <md-menu-content>
        <md-menu-item ng-repeat="choice in ct.RSVP_CHOICES">
          <md-button ng-click="ct.setRSVP(choice)">[[choice]]</md-button>
        </md-menu-item>
      </md-menu-content>
    </md-menu>
  </md-card-actions>

</md-card>